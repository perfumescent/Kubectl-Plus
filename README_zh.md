# Kubectl-Plus

<div align="center">

[English](README.md) | [ä¸­æ–‡](README_zh.md)

[![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/perfumescent/kubectl-plus/pulls)

</div>

> ğŸ¯ ä¸€å¥—ç²¾å¿ƒæ‰“é€ çš„ Kubectl è‡ªåŠ¨åŒ–å·¥å…·é›†ï¼Œè®© K8s æ—¥å¸¸è¿ç»´å·¥ä½œå˜å¾—ç®€å•é«˜æ•ˆï¼

## âœ¨ ç‰¹æ€§

- ğŸš€ **å‘½ä»¤ç®€åŒ–**ï¼šå°†å¤æ‚çš„ kubectl æ“ä½œè½¬åŒ–ä¸ºç›´è§‚çš„çŸ­å‘½ä»¤
- ğŸ” **æ™ºèƒ½è¡¥å…¨**ï¼šæ”¯æŒå‘½åç©ºé—´ã€Pod å’ŒæœåŠ¡åç§°çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥å¼è¡¥å…¨
- ğŸ“Š **æ—¥å¿—å¢å¼º**ï¼šå…ˆè¿›çš„æ—¥å¿—æŸ¥çœ‹å’Œè·¨ Pod æœç´¢åŠŸèƒ½
- ğŸ› ï¸ **èµ„æºç®¡ç†**ï¼šçµæ´»çš„èµ„æºæŸ¥çœ‹å’Œäº¤äº’æ–¹å¼
- âš¡ **å¿«é€Ÿéƒ¨ç½²**ï¼šæ–°ç¯å¢ƒä¸­è½»æ¾å®‰è£…é…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

é€‰æ‹©ä»¥ä¸‹ä»»ä¸€æ–¹å¼å®‰è£…ï¼š

#### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰
```bash
curl -fsSL https://raw.githubusercontent.com/perfumescent/Kubectl-Plus/main/install.sh | bash
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…
```bash
# å…‹éš†ä»“åº“
git clone https://github.com/perfumescent/Kubectl-Plus.git
cd Kubectl-Plus

# è¿è¡Œå®‰è£…ç¨‹åº
./install.sh
```

å®‰è£…ç¨‹åºä¼šï¼š
- æ£€æŸ¥ç³»ç»Ÿè¦æ±‚
- å®‰è£…å‘½ä»¤åˆ° PATH
- é…ç½® shell è‡ªåŠ¨è¡¥å…¨
- è®¾ç½®æ‚¨åå¥½çš„å‘½åç©ºé—´

### ç³»ç»Ÿè¦æ±‚
- å·²å®‰è£…å¹¶é…ç½® kubectl
- bash æˆ– zsh shell
- Linux/macOS æ“ä½œç³»ç»Ÿ

## ğŸ¯ å‘½ä»¤è¯´æ˜

### èµ„æºæŸ¥çœ‹ - `p` å‘½ä»¤
```bash
# åŸºæœ¬ç”¨æ³•
p                    # æŸ¥çœ‹é»˜è®¤å‘½åç©ºé—´çš„ Podï¼ˆå®½æ ¼å¼è¾“å‡ºï¼‰
p svc                # æŸ¥çœ‹æœåŠ¡
p deploy             # æŸ¥çœ‹éƒ¨ç½²

# é«˜çº§é€‰é¡¹
p -n prod            # æŒ‡å®šå‘½åç©ºé—´
p -l app=nginx       # æŒ‰æ ‡ç­¾è¿‡æ»¤
p -o yaml            # YAML æ ¼å¼è¾“å‡º
p -A                 # æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´
p -S name            # æŒ‰åç§°æ’åº

# ç»„åˆä½¿ç”¨
p -n prod -l tier=frontend -S status    # æŸ¥çœ‹ prod å‘½åç©ºé—´ä¸‹å¸¦æ ‡ç­¾çš„ Pod å¹¶æ’åº
p deploy -A -o wide                     # æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´çš„éƒ¨ç½²ï¼ˆå®½æ ¼å¼ï¼‰
```

### Pod è®¿é—® - `i` å‘½ä»¤
```bash
# åŸºæœ¬ç”¨æ³•
i nginx                     # ä½¿ç”¨é»˜è®¤ shell è¿›å…¥ Pod
i nginx -c side-car        # è¿›å…¥æŒ‡å®šå®¹å™¨
i nginx -- ls /etc         # æ‰§è¡Œå‘½ä»¤è€Œä¸è¿›å…¥ shell
i nginx -s bash            # ä½¿ç”¨ bash ä½œä¸º shell

# é«˜çº§é€‰é¡¹
i nginx -n prod            # æŒ‡å®šå‘½åç©ºé—´
i nginx -u root           # ä»¥ root ç”¨æˆ·è¿è¡Œ
i nginx -c nginx -s bash  # ä½¿ç”¨ bash è¿›å…¥ nginx å®¹å™¨
```

### æ—¥å¿—æŸ¥çœ‹ - `l` å‘½ä»¤
```bash
# åŸºæœ¬ç”¨æ³•
l pod-name                    # æŸ¥çœ‹æœ€æ–°æ—¥å¿—ï¼ˆæœ€å 500 è¡Œï¼‰
l pod-name pattern           # æœç´¢åŒ…å« pattern çš„æ—¥å¿—ï¼ˆå¸¦ä¸Šä¸‹æ–‡ï¼‰

# é«˜çº§é€‰é¡¹
l pod-name -n namespace      # æŒ‡å®šå‘½åç©ºé—´
l pod-name -c container      # æŒ‡å®šå®¹å™¨
l pod-name -p /logs/*.log    # æŸ¥çœ‹è‡ªå®šä¹‰è·¯å¾„çš„æ—¥å¿—ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰
l pod-name -s pattern        # ä»ç¬¬ä¸€ä¸ªåŒ¹é… pattern å¤„å¼€å§‹æ˜¾ç¤º
l pod-name -t 1000          # æ˜¾ç¤ºæœ€å 1000 è¡Œ
l pod-name -f               # æŒç»­è¿½è¸ªæ—¥å¿—è¾“å‡º
```

### å¤š Pod æ—¥å¿—æœç´¢ - `f` å‘½ä»¤
```bash
# åŸºæœ¬ç”¨æ³•
f service-name pattern        # åœ¨æœåŠ¡çš„æ‰€æœ‰ Pod ä¸­æœç´¢åŒ¹é…é¡¹
                            # (å¸¦æœ‰å½©è‰²è¾“å‡ºå’Œä¸Šä¸‹æ–‡åˆ†éš”ç¬¦)

# é«˜çº§é€‰é¡¹
f service-name -n namespace pattern    # æŒ‡å®šå‘½åç©ºé—´
f service-name -c container pattern    # æŒ‡å®šå®¹å™¨
f service-name -p /logs/*.log pattern  # åœ¨è‡ªå®šä¹‰æ—¥å¿—è·¯å¾„ä¸­æœç´¢
f service-name pattern -C 5            # æ˜¾ç¤º 5 è¡Œä¸Šä¸‹æ–‡
f service-name pattern -t 100          # æ˜¾ç¤ºæœ€å 100 è¡ŒåŒ¹é…ç»“æœ
```

## ğŸ”® æ™ºèƒ½è‡ªåŠ¨è¡¥å…¨

æ‰€æœ‰å‘½ä»¤éƒ½é…å¤‡äº†æ™ºèƒ½è‡ªåŠ¨è¡¥å…¨æ”¯æŒï¼Œè®©æ‚¨çš„ K8s æ“ä½œæ›´æµç•…ã€æ›´å¿«é€Ÿï¼

### å‘½åç©ºé—´è¡¥å…¨
```bash
# è¡¥å…¨å‘½åç©ºé—´å‚æ•°
l --n[Tab]                # è¡¥å…¨ä¸º: l --namespace
l -n[Tab]                 # è¡¥å…¨ä¸º: l -n

# åœ¨ -n æˆ– --namespace åè¡¥å…¨å‘½åç©ºé—´
l -n pro[Tab]            # è¡¥å…¨ä¸º: l -n production
i -n stag[Tab]           # è¡¥å…¨ä¸º: i -n staging
f -n dev[Tab]            # è¡¥å…¨ä¸º: f -n development
p -n [Tab]               # æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„å‘½åç©ºé—´
```

### èµ„æºè¡¥å…¨
```bash
# è¡¥å…¨ Pod åç§°ï¼ˆä¼šè€ƒè™‘å‘½åç©ºé—´ä¸Šä¸‹æ–‡ï¼‰
l ng[Tab]                  # æ˜¾ç¤ºå½“å‰å‘½åç©ºé—´çš„ nginx ç›¸å…³ pod
i -n prod ng[Tab]          # æ˜¾ç¤º prod å‘½åç©ºé—´çš„ nginx ç›¸å…³ pod

# è¡¥å…¨æœåŠ¡åç§°
f ng[Tab]                  # æ˜¾ç¤º nginx ç›¸å…³æœåŠ¡
f -n prod ng[Tab]          # æ˜¾ç¤º prod å‘½åç©ºé—´çš„ nginx ç›¸å…³æœåŠ¡

# è¡¥å…¨ p å‘½ä»¤çš„èµ„æºç±»å‹
p dep[Tab]                 # è¡¥å…¨ä¸º: p deploy
p [Tab]                    # æ˜¾ç¤ºæ‰€æœ‰èµ„æºç±»å‹ (pod/svc/deploy/rs/sts)
```

### é€‰é¡¹è¡¥å…¨
```bash
# è¡¥å…¨å‘½ä»¤é€‰é¡¹
p -[Tab]                   # æ˜¾ç¤ºæ‰€æœ‰é€‰é¡¹ (-n, -w, -l, -o, -A, -S)
i --[Tab]                  # æ˜¾ç¤ºæ‰€æœ‰é•¿é€‰é¡¹ (--namespace, --container ç­‰)

# è¡¥å…¨é€‰é¡¹å€¼
p -o [Tab]                 # æ˜¾ç¤ºè¾“å‡ºæ ¼å¼é€‰é¡¹ (json/yaml/wide/custom)
p -S [Tab]                 # æ˜¾ç¤ºæ’åºå­—æ®µé€‰é¡¹ (name/status/age)
i -s [Tab]                 # æ˜¾ç¤ºå¯ç”¨çš„ shell é€‰é¡¹ (sh/bash/zsh)
```

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬éå¸¸æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ­£åœ¨å…³æ³¨çš„é¢†åŸŸï¼š

### æœªæ¥è§„åˆ’

1. **å‘½ä»¤æ‰©å±•**
   - æœåŠ¡é‡å¯è‡ªåŠ¨åŒ–
   - é…ç½®æ–‡ä»¶å¿«é€Ÿä¿®æ”¹
   - èµ„æºä½¿ç”¨ç›‘æ§
   - å¤šé›†ç¾¤ç®¡ç†

2. **åŠŸèƒ½å¢å¼º**
   - é«˜çº§æ—¥å¿—åˆ†æ
   - èµ„æºä½¿ç”¨ç»Ÿè®¡
   - å¸¸è§é—®é¢˜è¯Šæ–­
   - å¯è§†åŒ–ç•Œé¢

3. **ä½¿ç”¨ä½“éªŒ**
   - å¢å¼ºé”™è¯¯æç¤º
   - å‘½ä»¤æ‰§è¡Œå†å²
   - æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ”¹åŠ¨ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

## ğŸŒŸ Star History

å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡» Starï¼æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä»¬æŒç»­æ”¹è¿›çš„åŠ¨åŠ›ï¼

> ğŸ‰ è®©æˆ‘ä»¬ä¸€èµ·è®© K8s è¿ç»´å·¥ä½œå˜å¾—æ›´ç®€å•ï¼
